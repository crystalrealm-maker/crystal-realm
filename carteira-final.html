<!DOCTYPE html>
<html>
<head>
    <title>Carteira Final</title>
</head>
<body>
    <button onclick="connect()">Conectar Carteira</button>

    <!-- SDK FIÁVEL -->
    <script src="https://cdn.jsdelivr.net/npm/@imtbl/passport-sdk@latest/dist/index.umd.js"></script>
    
    <script>
        const passport = new imx.Passport({
            clientId: "yPpJeP3BG2vXZZNjVB8mmEKn1X6lVdoS",
            redirectUri: "https://crystalrealm-maker.github.io/crystal-realm/",
            logoutRedirectUri: "https://crystalrealm-maker.github.io/crystal-realm/",
            audience: "platform_api",
            scope: "openid offline_access email transact"
        });

        async function connect() {
            try {
                const user = await passport.login();
                alert("✅ Conectado! Endereço: " + user.address);
            } catch (e) {
                console.error("Erro:", e);
                alert("❌ Falha: " + (e.message || "Erro desconhecido"));
            }
        }
    </script>
</body>
</html>